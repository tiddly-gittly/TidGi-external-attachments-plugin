title: $:/plugins/linonetwo/tidgi-external-attachments/readme/zh-Hans

!! 🌟 核心功能

本插件实现将大文件作为「外部附件」智能管理，生成轻量级「引用条目」，保持 Wiki 高效运行。

!! 🚀 快速入门

```wikitext
[拖入任意文件] → [预览信息] → [点击"导入"] → ✅ 完成！
```
* 💡 自动创建 `files` 目录
* 🔗 生成规范相对路径
* 🌍 完美兼容网页部署

!! 🛠 功能详解

!!! 🖱️ 拖放导入流程
* ✓ 任意位置拖入文件（桌面/下载目录等）
* ✓ 自动生成预览信息（条目字段/文件移动位置等）
* ✓ 点击确认后：
** 🗂️ 自动移动至 `files` 目录（若开启）
** 📝 创建带 `_canonical_uri` 的引用条目

!!! ⚙️ 路径管理规则

* ◻︎ 默认模式（推荐）：
** → 自动维护 `files` 目录结构
** → 始终使用相对路径（`files/example.pdf`）
* ◻︎ 高级模式（如果修改了[[配置|$:/plugins/linonetwo/tidgi-external-attachments/settings]]）：
** → 可自定义存储目录
** → Wiki外文件使用绝对路径（需手动维护）

!! ⚠️ 重要注意事项

!!! 🔗 路径兼容性
* 🚫 绝对路径文件：
** 📌 仅限本地设备访问
** 🌐 网页部署不可用
** 🔄 跨设备同步失效
* ✅ 相对路径文件：
** 📦 支持全平台同步
** 🚀 即插即用式部署

!!! ⏳ 操作时机
* 🕒 文件移动发生在「导入」按钮点击后
* ↩️ 取消操作不会产生残留文件
* 🆕 首次使用自动创建目录结构

!! 🔗 扩展应用：外部链接技巧

[[📄 查看更多外部链接示例|$:/plugins/linonetwo/tidgi-external-attachments/extlink]]

!!! 📎 文件链接最佳实践
```wikitext
[ext[📂 打开文件夹|file://./files/]]
[ext[📄 查看PDF|file://files/文档.pdf]]
```
* 💡 必须添加 `file://` 协议头
* 🚫 网页端不支持此协议

!!! ❌ 常见误区
* 附件字段（`_canonical_uri`）：
** 🚫 不应包含 `file://` 前缀或 `./` 前缀
** ✅ 正确示例：`_canonical_uri: files/图片.jpg`
* 正文链接：
** ✅ 必须包含 `file://` 前缀
** 错误示例：`[ext[链接|files/文件.pdf]]`

!! 🧰 故障排查

| 现象               | 解决方案                |
| 文件未移动          | ✔️ 检查是否点击"导入"按钮 |
| 网页版加载失败      | ✔️ 确认使用默认`files`目录 |
| 跨设备路径失效      | ✔️ 开启自动移动功能       |

!! 🌐 跨平台支持

关闭此插件时，拖入的内容会直接作为条目存入，兼容性最好，但会大幅增大太微文件体积，且会严重拖慢启动速度。以下是兼容性示意图。

| 平台      | 附件支持 | 链接支持 | 作为条目 |
| Windows  | ✅       | ✅      | ✅      |
| macOS    | ✅       | ✅      | ✅      |
| Linux    | ✅       | ✅      | ✅      |
| 网页部署  | ✅       | ❌      | ✅      |
| 移动端    | ❓       | ❌      | ✅      |
